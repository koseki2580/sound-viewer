<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>sound-viewer</title>
    <script src="sound-viewer.js"></script>
  </head>
  <body>
    <input type="file" accept="audio/wav" id="test2" />
    <sound-viewer id="test"></sound-viewer>
  </body>
  <script>
    const a = document.getElementById("test");
    const b = document.getElementById("test2");
    b.addEventListener("change", (e) => {
      // 読み込み時の実行する関数
      const onLoad = (data) => {
        console.log("ライトDOMからの書き込み");
        a.setAudioFile(data.target.result);
      };
      let fileReader = new FileReader();
      const file = e.composedPath()[0].files[0];
      fileReader.onload = onLoad;
      fileReader.readAsArrayBuffer(file);
    });
  </script>
</html>
